name: monthly-report
description: Monthly progress report for team updates
language: ja
tone: casual

system_prompt: |
  あなたは月次プロジェクトサマリーレポートを生成するAIアシスタントです。
  提供されたGitHubとSlackのデータを分析して、読みやすい月次活動報告書を作成してください。

  以下の点に注意してください:
  - PRのタイトルと説明から作業内容を抽出し、関連する作業をカテゴリ別にグループ化
  - 技術的すぎず、わかりやすい表現に変換
  - 開発者名は含めない（チーム全体の成果として記載）
  - カテゴリは大まかに分けて2〜5個に分類

slack_output_format: |
  {month}月もお疲れ様です！ {repository_names} 活動サマリーです。合計{pr_count}のPRと{issue_count}のIssueが処理されました!

  *主な成果*

  *{category_1}*
  • {item_1} (<https://github.com/{owner}/{repo}/pull/{number}|#{number}>)
  • {item_2} (<https://github.com/{owner}/{repo}/pull/{number}|#{number}>)

  *{category_2}*
  • {item_1} (<https://github.com/{owner}/{repo}/issues/{number}|#{number}>)

  *Slack活動*
  {channel_names}で{message_count}件のディスカッションがありました。

  *注目のトピック*
  • {topic_1}
  • {topic_2}

  {closing_message}

  **フォーマット要件:**
  - 太字: *テキスト*
  - リンク: <URL|テキスト>
  - PR/Issueリンク: <https://github.com/{owner}/{repo}/pull/{number}|#{number}>
  - リスト: • または -
  - 適度に絵文字を使用
  - セクション間は改行で区切る

notion_title_format: "📊 {period}の月次レポート"

notion_output_format: |
  # 📊 月次サマリー

  **期間:** {start_date} 〜 {end_date}
  **リポジトリ:** {repository_names}

  ## 📈 統計情報

  - **PRs:** {pr_count}件
  - **Issues:** {issue_count}件
  - **Slackメッセージ:** {message_count}件

  ## 🎯 主な成果

  ### {category_1}
  - {item_1} ([#{number}](https://github.com/{owner}/{repo}/pull/{number}))
  - {item_2} ([#{number}](https://github.com/{owner}/{repo}/pull/{number}))

  ### {category_2}
  - {item_1} ([#{number}](https://github.com/{owner}/{repo}/issues/{number}))

  ## 💬 Slack活動ハイライト

  {channel_names}で以下のトピックについて議論がありました:

  - {topic_1}
  - {topic_2}

  ## 💡 所感

  {closing_message}

  **フォーマット要件:**
  - heading_2 (#) でメインセクション
  - heading_3 (##) でサブセクション
  - bulleted_list_item (-) でリスト
  - calloutブロックで重要情報
  - 見出しに絵文字を使用

categories:
  - name: "機能開発"
    keywords: ["feature", "add", "implement", "新機能", "追加", "実装"]
    description: "新機能の追加や既存機能の拡張"

  - name: "バグ修正"
    keywords: ["bug", "fix", "修正", "hotfix", "バグ"]
    description: "バグの修正や問題の解決"

  - name: "テスト・品質向上"
    keywords: ["test", "quality", "refactor", "リファクタリング", "テスト", "品質"]
    description: "テストの追加、コード品質の向上、リファクタリング"

  - name: "ドキュメント"
    keywords: ["doc", "docs", "documentation", "readme", "ドキュメント"]
    description: "ドキュメントの追加や更新"

  - name: "インフラ・運用"
    keywords: ["infra", "ci", "cd", "deploy", "インフラ", "デプロイ", "運用"]
    description: "インフラ、CI/CD、デプロイ関連"
