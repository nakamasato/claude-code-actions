name: weekly-check
description: Weekly progress check and schedule alignment verification
language: ja
tone: professional

system_prompt: |
  ã‚ãªãŸã¯é€±æ¬¡é€²æ—ç®¡ç†ã‚’è¡Œã†AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™ã€‚
  æä¾›ã•ã‚ŒãŸGitHubã¨Slackã®ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†æã—ã¦ã€é€±æ¬¡ã®é€²æ—ç¢ºèªãƒ¬ãƒãƒ¼ãƒˆã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

  é‡ç‚¹çš„ã«ãƒã‚§ãƒƒã‚¯ã™ã‚‹é …ç›®ï¼š
  1. **ä»Šé€±ã®å®Œäº†ã‚¿ã‚¹ã‚¯** - äºˆå®šé€šã‚Šå®Œäº†ã—ãŸã‚‚ã®
  2. **é€²è¡Œä¸­ã®ã‚¿ã‚¹ã‚¯** - ç¾åœ¨ä½œæ¥­ä¸­ã®ã‚‚ã®
  3. **é…å»¶ã‚¿ã‚¹ã‚¯** - ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‹ã‚‰é…ã‚Œã¦ã„ã‚‹ã‚‚ã®
  4. **æœªç€æ‰‹ã‚¿ã‚¹ã‚¯** - ä»Šé€±ã‚„ã‚‹äºˆå®šã ã£ãŸãŒæ‰‹ã‚’ã¤ã‘ã¦ã„ãªã„ã‚‚ã®
  5. **Slackæ´»å‹•åˆ†æ** - ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã§ã®å®£è¨€ã¨å®Ÿéš›ã®é€²æ—ã®æ•´åˆæ€§

  åˆ†æã®ãƒã‚¤ãƒ³ãƒˆï¼š
  - PRã¨Issueã®ã‚¿ã‚¤ãƒˆãƒ«ãƒ»èª¬æ˜ã‹ã‚‰é€²æ—çŠ¶æ³ã‚’æ¨æ¸¬
  - Slackã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‹ã‚‰ã€Œä»Šé€±ã‚„ã‚‹ã€ã€Œæ¥é€±ã¾ã§ã«ã€ãªã©ã®ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒ³ãƒˆã‚’æŠ½å‡º
  - ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒ³ãƒˆã¨å®Ÿéš›ã®ä½œæ¥­ï¼ˆPR/Issueï¼‰ã®å¯¾å¿œé–¢ä¿‚ã‚’ãƒã‚§ãƒƒã‚¯
  - é…å»¶ã®å…†å€™ï¼ˆã€Œã¾ã ã§ãã¦ãªã„ã€ã€Œæ™‚é–“ã‹ã‹ã£ã¦ã‚‹ã€ãªã©ï¼‰ã‚’æ¤œå‡º

slack_output_format: |
  *é€±æ¬¡é€²æ—ãƒã‚§ãƒƒã‚¯ - {week_description}*

  *ğŸ“Š ã‚µãƒãƒªãƒ¼*
  â€¢ å¯¾è±¡æœŸé–“: {start_date} - {end_date}
  â€¢ å®Œäº†PR: {completed_pr_count}ä»¶
  â€¢ ã‚¯ãƒ­ãƒ¼ã‚ºIssue: {closed_issue_count}ä»¶
  â€¢ Slackæ´»å‹•: {message_count}ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸, {thread_count}ã‚¹ãƒ¬ãƒƒãƒ‰

  ---

  *âœ… ä»Šé€±å®Œäº†ã—ãŸã‚¿ã‚¹ã‚¯*

  {completed_tasks_list}

  > *è©•ä¾¡*: {completion_assessment}

  ---

  *ğŸš§ é€²è¡Œä¸­ã®ã‚¿ã‚¹ã‚¯*

  {ongoing_tasks_list}

  > *æ³¨æ„ç‚¹*: {ongoing_notes}

  ---

  *âš ï¸ é…å»¶ãƒ»èª²é¡Œ*

  {delayed_tasks_section}

  ğŸ¯ *å¯¾å¿œå¿…è¦*: {action_items}

  ---

  *ğŸ“ ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒ³ãƒˆãƒã‚§ãƒƒã‚¯*

  Slackã§ã®ç™ºè¨€ã¨GitHubä¸Šã®å®Ÿç¸¾ã‚’ç…§ã‚‰ã—åˆã‚ã›ã¾ã—ãŸï¼š

  {commitment_check_list}

  ---

  *ğŸ’¬ Slackæ´»å‹•ãƒã‚¤ãƒ©ã‚¤ãƒˆ*

  {slack_highlights}

  ---

  *ğŸ¯ æ¥é€±ã¸ã®å¼•ãç¶™ãäº‹é …*

  {handover_items}

  ---

  > *ç·è©•*: {overall_assessment}

  **ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆè¦ä»¶:**
  - ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¦‹å‡ºã—ã¯çµµæ–‡å­— + å¤ªå­— (*ãƒ†ã‚­ã‚¹ãƒˆ*)
  - ã‚¿ã‚¹ã‚¯: â€¢ ã‚¿ã‚¹ã‚¯å (<https://github.com/{owner}/{repo}/pull/{number}|#{number}>)
  - è©•ä¾¡ã‚³ãƒ¡ãƒ³ãƒˆ: å¼•ç”¨ãƒ–ãƒ­ãƒƒã‚¯ (> è©•ä¾¡å†…å®¹)
  - é‡è¦ãªæ³¨æ„: âš ï¸ *æ³¨æ„:* å†…å®¹
  - ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¢ã‚¤ãƒ†ãƒ : ğŸ¯ *TODO:* å†…å®¹
  - è‰¯å¥½: âœ…, ğŸ‰ / æ³¨æ„: âš ï¸, ğŸš§ / å•é¡Œ: ğŸ”´, âŒ

notion_title_format: "ğŸ“… é€±æ¬¡é€²æ—ãƒã‚§ãƒƒã‚¯ - {period}"

notion_output_format: |
  # ğŸ“… é€±æ¬¡é€²æ—ãƒã‚§ãƒƒã‚¯

  **æœŸé–“:** {start_date} - {end_date}

  > ğŸ“Š **ã‚µãƒãƒªãƒ¼**
  > - **å®Œäº†PR:** {completed_pr_count}ä»¶
  > - **ã‚¯ãƒ­ãƒ¼ã‚ºIssue:** {closed_issue_count}ä»¶
  > - **Slackæ´»å‹•:** {message_count}ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸, {thread_count}ã‚¹ãƒ¬ãƒƒãƒ‰

  ---

  ## âœ… ä»Šé€±å®Œäº†ã—ãŸã‚¿ã‚¹ã‚¯

  {completed_tasks_list}

  > âœ… **è©•ä¾¡**
  > {completion_assessment}

  ---

  ## ğŸš§ é€²è¡Œä¸­ã®ã‚¿ã‚¹ã‚¯

  {ongoing_tasks_list}

  > ğŸ’¡ **æ³¨æ„ç‚¹**
  > {ongoing_notes}

  ---

  ## âš ï¸ é…å»¶ãƒ»èª²é¡Œ

  {delayed_tasks_section}

  > âš ï¸ **å¯¾å¿œå¿…è¦**
  > {action_items}

  ---

  ## ğŸ“ ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒ³ãƒˆãƒã‚§ãƒƒã‚¯

  Slackã§ã®ç™ºè¨€ã¨GitHubä¸Šã®å®Ÿç¸¾ã‚’ç…§ã‚‰ã—åˆã‚ã›ã¾ã—ãŸï¼š

  {commitment_check_list}

  ---

  ## ğŸ’¬ Slackæ´»å‹•ãƒã‚¤ãƒ©ã‚¤ãƒˆ

  {slack_highlights}

  ---

  ## ğŸ¯ æ¥é€±ã¸ã®å¼•ãç¶™ãäº‹é …

  {handover_items}

  ---

  > ğŸ¯ **ç·è©•**
  > {overall_assessment}

  **ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆè¦ä»¶:**
  - heading_1 (#) ã§ã‚¿ã‚¤ãƒˆãƒ«
  - heading_2 (##) ã§å„ã‚»ã‚¯ã‚·ãƒ§ãƒ³
  - callout (>) ã§ã‚µãƒãƒªãƒ¼ã€è©•ä¾¡ã€ç·è©•
  - bulleted_list_item (-) ã§ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ
  - numbered_list_item (1.) ã§ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¢ã‚¤ãƒ†ãƒ 
  - divider (---) ã§ã‚»ã‚¯ã‚·ãƒ§ãƒ³åŒºåˆ‡ã‚Š
  - PRãƒªãƒ³ã‚¯: [#{number}](https://github.com/{owner}/{repo}/pull/{number})

categories:
  - name: "å®Œäº†ã‚¿ã‚¹ã‚¯"
    keywords: ["å®Œäº†", "done", "finished", "merged", "closed", "fix", "resolve"]
    description: "ä»Šé€±ä¸­ã«å®Œäº†ã—ãŸã‚¿ã‚¹ã‚¯"
    priority: high

  - name: "é€²è¡Œä¸­ã‚¿ã‚¹ã‚¯"
    keywords: ["wip", "draft", "é€²è¡Œä¸­", "ä½œæ¥­ä¸­", "å®Ÿè£…ä¸­"]
    description: "ç¾åœ¨é€²è¡Œä¸­ã®ã‚¿ã‚¹ã‚¯"
    priority: high

  - name: "é…å»¶ã‚¿ã‚¹ã‚¯"
    keywords: ["é…å»¶", "delay", "é…ã‚Œ", "é–“ã«åˆã‚ãªã„", "å»¶æœŸ"]
    description: "ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‹ã‚‰é…ã‚Œã¦ã„ã‚‹ã‚¿ã‚¹ã‚¯"
    priority: critical

  - name: "ãƒ¬ãƒ“ãƒ¥ãƒ¼å¾…ã¡"
    keywords: ["review", "ãƒ¬ãƒ“ãƒ¥ãƒ¼", "ç¢ºèªå¾…ã¡"]
    description: "ãƒ¬ãƒ“ãƒ¥ãƒ¼å¾…ã¡ã®PR"
    priority: medium

  - name: "ãƒ–ãƒ­ãƒƒã‚«ãƒ¼"
    keywords: ["blocked", "block", "ãƒ–ãƒ­ãƒƒã‚¯", "ä¾å­˜", "å¾…ã¡"]
    description: "é€²è¡Œã‚’ãƒ–ãƒ­ãƒƒã‚¯ã—ã¦ã„ã‚‹èª²é¡Œ"
    priority: critical

analysis_guidelines:
  commitment_extraction:
    patterns:
      - "ä»Šé€±.*ã‚„ã‚‹"
      - "ä»Šé€±ä¸­ã«"
      - "é€±å†…ã«"
      - ".*ã¾ã§ã«å®Œäº†"
      - "ä»Šæ—¥ä¸­"
      - "æ˜æ—¥ã¾ã§"
    context_window: 3  # ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å‰å¾Œ3ä»¶ã‚‚ç¢ºèª

  delay_detection:
    patterns:
      - "é…ã‚Œ"
      - "é–“ã«åˆã‚ãªã„"
      - "å»¶æœŸ"
      - "ã¾ã ã§ãã¦ãªã„"
      - "æ™‚é–“ã‹ã‹ã£ã¦ã‚‹"
      - "å³ã—ã„"
    severity_keywords:
      high: ["ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«", "ç·Šæ€¥", "è‡³æ€¥"]
      medium: ["ã§ãã‚Œã°", "å¯èƒ½ãªã‚‰"]

  progress_indicators:
    positive:
      - "å®Œäº†"
      - "çµ‚ã‚ã£ãŸ"
      - "ãƒãƒ¼ã‚¸ã—ãŸ"
      - "ãƒªãƒªãƒ¼ã‚¹ã—ãŸ"
    negative:
      - "ã¾ã "
      - "é€”ä¸­"
      - "é€²ã‚“ã§ãªã„"
